# VibeTrade - Advanced Multi-Bot Trading System

VibeTradeëŠ” ì—¬ëŸ¬ ê±°ë˜ì†Œì—ì„œ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ë‹¤ì¤‘ ë´‡ íŠ¸ë ˆì´ë”© ì‹œìŠ¤í…œì…ë‹ˆë‹¤. DDIA (Designing Data-Intensive Applications) ì›ì¹™ì„ ì ìš©í•˜ì—¬ í™•ì¥ ê°€ëŠ¥í•˜ê³  ê²¬ê³ í•œ ì•„í‚¤í…ì²˜ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

### ë©€í‹°ë´‡ ì§€ì›
- ì—¬ëŸ¬ íŠ¸ë ˆì´ë”© ë´‡ì„ ë™ì‹œì— ì‹¤í–‰
- ë´‡ë³„ ë…ë¦½ì ì¸ ì„¤ì • ë° ë¦¬ìŠ¤í¬ ê´€ë¦¬
- ì‹¤ì‹œê°„ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

### Cross-Venue Hedge Market Making
- ì—¬ëŸ¬ ê±°ë˜ì†Œ ê°„ ê°€ê²© ì°¨ì´ë¥¼ ì´ìš©í•œ ì°¨ìµê±°ë˜
- ìë™ í¬ì§€ì…˜ í—¤ì§• ë° ë¦¬ë°¸ëŸ°ì‹±
- ì‹¤ì‹œê°„ ìŠ¤í”„ë ˆë“œ ëª¨ë‹ˆí„°ë§

### Single-Venue Stoikov Market Making â­ NEW
- Avellaneda-Stoikov ëª¨ë¸ ê¸°ë°˜ ê³ ê¸‰ ë§ˆì¼“ë©”ì´í‚¹
- ìˆ˜í•™ì  ìµœì í™”ëœ í˜¸ê°€ ê³„ì‚° (Î³, Ïƒ, k íŒŒë¼ë¯¸í„°)
- ì •êµí•œ ë¦¬ìŠ¤í¬ ê´€ë¦¬ ë° ì‹¤ì‹œê°„ KPI ì¶”ì 
- ìƒíƒœë¨¸ì‹  ê¸°ë°˜ ê³ ì„±ëŠ¥ ì£¼ë¬¸ ì‹¤í–‰ ì—”ì§„

### ê²¬ê³ í•œ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
- Event-driven ì•„í‚¤í…ì²˜
- í¬ê´„ì ì¸ ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§
- ìë™ ì¥ì•  ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜
- êµ¬ì¡°í™”ëœ ì„¤ì • ê´€ë¦¬

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ core/           # í•µì‹¬ ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ BaseBot.ts         # ë´‡ ë² ì´ìŠ¤ í´ë˜ìŠ¤
â”‚   â”œâ”€â”€ BotOrchestrator.ts # ë´‡ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”‚   â”œâ”€â”€ EventEmitter.ts    # ì´ë²¤íŠ¸ ë²„ìŠ¤
â”‚   â””â”€â”€ Logger.ts          # ë¡œê¹… ì‹œìŠ¤í…œ
â”œâ”€â”€ bots/           # íŠ¸ë ˆì´ë”© ë´‡ êµ¬í˜„ì²´
â”‚   â”œâ”€â”€ CrossVenueHedgeBot.ts # í¬ë¡œìŠ¤ ë² ë‰´ í—¤ì§€ ë´‡
â”‚   â””â”€â”€ StoikovBot.ts         # Stoikov ë§ˆì¼“ë©”ì´í‚¹ ë´‡ â­
â”œâ”€â”€ engines/        # ìˆ˜í•™ì  ì—”ì§„ â­
â”‚   â””â”€â”€ StoikovEngine.ts      # Stoikov ìµœì í™” ì—”ì§„
â”œâ”€â”€ execution/      # ì£¼ë¬¸ ì‹¤í–‰ ì‹œìŠ¤í…œ â­
â”‚   â””â”€â”€ ExecutionEngine.ts    # ìƒíƒœë¨¸ì‹  ê¸°ë°˜ ì‹¤í–‰ ì—”ì§„
â”œâ”€â”€ risk/           # ë¦¬ìŠ¤í¬ ê´€ë¦¬ â­
â”‚   â””â”€â”€ RiskManager.ts        # ë‹¤ì¸µ ë¦¬ìŠ¤í¬ ëª¨ë‹ˆí„°ë§
â”œâ”€â”€ data/           # ë§ˆì¼“ ë°ì´í„° ì²˜ë¦¬ â­
â”‚   â””â”€â”€ MarketDataProcessor.ts # L2/L3 ì˜¤ë”ë¶ ì²˜ë¦¬
â”œâ”€â”€ monitoring/     # KPI ëª¨ë‹ˆí„°ë§ â­
â”‚   â””â”€â”€ StoikovMonitor.ts     # 15+ KPI ì‹¤ì‹œê°„ ì¶”ì 
â”œâ”€â”€ cli/            # CLI ì¸í„°í˜ì´ìŠ¤ â­
â”‚   â”œâ”€â”€ CLIManager.ts         # ì¸í„°ë™í‹°ë¸Œ ë´‡ ê´€ë¦¬
â”‚   â””â”€â”€ BotFactory.ts         # ë´‡ ìƒì„± íŒ©í† ë¦¬
â”œâ”€â”€ exchanges/      # ê±°ë˜ì†Œ ì¶”ìƒí™” ë ˆì´ì–´
â”‚   â””â”€â”€ BaseExchange.ts
â”œâ”€â”€ services/       # ì‹œìŠ¤í…œ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ ConfigManager.ts   # ì„¤ì • ê´€ë¦¬
â”‚   â”œâ”€â”€ MetricsCollector.ts # ë©”íŠ¸ë¦­ ìˆ˜ì§‘
â”‚   â””â”€â”€ HealthMonitor.ts   # í—¬ìŠ¤ ëª¨ë‹ˆí„°ë§
â”œâ”€â”€ types/          # íƒ€ì… ì •ì˜
â”‚   â””â”€â”€ index.ts
â””â”€â”€ utils/          # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
```

## ğŸ›  ì„¤ì¹˜ ë° ì„¤ì •

### 1. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
  install
```

### 2. í™˜ê²½ ì„¤ì •
```bash
cp .env.example .env
# .env íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ ê±°ë˜ì†Œ API í‚¤ ì„¤ì •
```

### 3. ì„¤ì • íŒŒì¼ ìˆ˜ì •
`config.json` íŒŒì¼ì—ì„œ ë´‡ ì„¤ì •ì„ ìˆ˜ì •í•©ë‹ˆë‹¤:

```json
{
  "bots": [
    {
      "id": "cross-venue-hedge-1",
      "enabled": true,
      "parameters": {
        "minSpreadPercent": 0.1,
        "maxPositionSize": 100
      }
    }
  ]
}
```

### 4. ë¹Œë“œ ë° ì‹¤í–‰
```bash
# ê°œë°œ ëª¨ë“œ
npm run dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build
npm start
```

## ğŸ¤– Cross-Venue Hedge MM ë´‡

### ë™ì‘ ì›ë¦¬
1. **ìŠ¤í”„ë ˆë“œ ëª¨ë‹ˆí„°ë§**: ì—¬ëŸ¬ ê±°ë˜ì†Œ ê°„ ê°€ê²© ì°¨ì´ ì‹¤ì‹œê°„ ê°ì§€
2. **ì°¨ìµê±°ë˜ ì‹¤í–‰**: ìŠ¤í”„ë ˆë“œê°€ ì„ê³„ê°’ì„ ì´ˆê³¼í•  ë•Œ ì–‘ë°©í–¥ ì£¼ë¬¸ ì‹¤í–‰
3. **í¬ì§€ì…˜ í—¤ì§•**: ë¶ˆê· í˜•í•œ í¬ì§€ì…˜ì„ ìë™ìœ¼ë¡œ í—¤ì§€
4. **ë¦¬ìŠ¤í¬ ê´€ë¦¬**: í¬ì§€ì…˜ í¬ê¸° ë° ì†ì‹¤ í•œë„ ê´€ë¦¬

### ì£¼ìš” íŒŒë¼ë¯¸í„°
- `minSpreadPercent`: ìµœì†Œ ìŠ¤í”„ë ˆë“œ ë¹„ìœ¨ (%)
- `maxPositionSize`: ìµœëŒ€ í¬ì§€ì…˜ í¬ê¸°
- `hedgeThreshold`: í—¤ì§• ì„ê³„ê°’
- `rebalanceInterval`: ë¦¬ë°¸ëŸ°ì‹± ê°„ê²© (ms)

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë©”íŠ¸ë¦­

### ì„±ëŠ¥ ì§€í‘œ
- ì´ ì†ìµ (PnL)
- ìŠ¹ë¥  (Win Rate)
- ê±°ë˜ íšŸìˆ˜
- í™œì„± í¬ì§€ì…˜ ìˆ˜
- ì‹œìŠ¤í…œ ê°€ë™ë¥ 

### í—¬ìŠ¤ ì²´í¬
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
- CPU ì‚¬ìš©ëŸ‰ ì¶”ì 
- ë´‡ ìƒíƒœ í™•ì¸
- ê±°ë˜ì†Œ ì—°ê²° ìƒíƒœ
- ë¦¬ìŠ¤í¬ í•œë„ ê²€ì¦

## ğŸ”§ í™•ì¥í•˜ê¸°

### ìƒˆë¡œìš´ ë´‡ ì¶”ê°€
1. `BaseBot`ì„ ìƒì†ë°›ëŠ” ìƒˆë¡œìš´ í´ë˜ìŠ¤ ìƒì„±
2. í•„ìˆ˜ ë©”ì†Œë“œ êµ¬í˜„ (`initialize`, `cleanup`, ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬)
3. ì„¤ì •ì— ë´‡ ì¶”ê°€
4. ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°ì—ì„œ ë´‡ ë“±ë¡

### ìƒˆë¡œìš´ ê±°ë˜ì†Œ ì¶”ê°€
1. `BaseExchange`ë¥¼ ìƒì†ë°›ëŠ” ìƒˆë¡œìš´ í´ë˜ìŠ¤ ìƒì„±
2. API ì—°ë™ ë° WebSocket êµ¬í˜„
3. ì„¤ì •ì— ê±°ë˜ì†Œ ì¶”ê°€

## ğŸš¨ ë¦¬ìŠ¤í¬ ê´€ë¦¬

### ìë™ ë³´í˜¸ ê¸°ëŠ¥
- ì¼ì¼ ì†ì‹¤ í•œë„ ì´ˆê³¼ ì‹œ ìë™ ì •ì§€
- í¬ì§€ì…˜ í¬ê¸° ì œí•œ
- ë©”ëª¨ë¦¬/CPU ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
- ìë™ ì¥ì•  ë³µêµ¬

### ìˆ˜ë™ ì œì–´
- ì‹¤ì‹œê°„ ë´‡ ì‹œì‘/ì •ì§€
- ì„¤ì • ë™ì  ì—…ë°ì´íŠ¸
- ê¸´ê¸‰ ì •ì§€ ê¸°ëŠ¥

## ğŸ“ ë¡œê¹…

ëª¨ë“  ì¤‘ìš”í•œ ì´ë²¤íŠ¸ê°€ êµ¬ì¡°í™”ëœ ë¡œê·¸ë¡œ ê¸°ë¡ë©ë‹ˆë‹¤:
- `logs/error.log`: ì—ëŸ¬ ë¡œê·¸
- `logs/combined.log`: ëª¨ë“  ë¡œê·¸
- ì½˜ì†”: ì‹¤ì‹œê°„ ë¡œê·¸ ì¶œë ¥

## ğŸ” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

- API í‚¤ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬
- ë¯¼ê°í•œ ì •ë³´ëŠ” ì„¤ì • íŒŒì¼ì— ì €ì¥í•˜ì§€ ì•ŠìŒ
- ë ˆì´íŠ¸ ë¦¬ë¯¸íŒ… êµ¬í˜„
- ì—°ê²° íƒ€ì„ì•„ì›ƒ ë° ì¬ì‹œë„ ë¡œì§

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

- ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ë¡œ ë‚®ì€ ì§€ì—°ì‹œê°„
- ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ë°ì´í„° êµ¬ì¡°
- ì—°ê²° í’€ë§ ë° ì¬ì‚¬ìš©
- ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ ë†’ì€ ì²˜ë¦¬ëŸ‰

## ğŸ§  Stoikov Bot - ê³ ê¸‰ ë§ˆì¼“ë©”ì´í‚¹ â­ NEW

### í•µì‹¬ íŠ¹ì§•
- **ìˆ˜í•™ì  ìµœì í™”**: Avellaneda-Stoikov ëª¨ë¸ë¡œ ê³¼í•™ì  í˜¸ê°€ ê³„ì‚°
- **ì‹¤ì‹œê°„ ì ì‘**: ë³€ë™ì„±(Ïƒ)ê³¼ ê±°ë˜ê°•ë„(k)ì— ë”°ë¥¸ ë™ì  ì¡°ì •
- **ìƒíƒœë¨¸ì‹ **: ê³ ì„±ëŠ¥ ì£¼ë¬¸ ìƒëª…ì£¼ê¸° ê´€ë¦¬ (MakerPlaced â†’ Fill/Cancel/Replace)
- **ì •êµí•œ ë¦¬ìŠ¤í¬**: ë‹¤ì¸µ ë¦¬ìŠ¤í¬ í•œë„ (ì¸ë²¤í† ë¦¬/ë“œë¦¬í”„íŠ¸/DD/ì—°ì†ì‹¤íŒ¨)

### ì£¼ìš” íŒŒë¼ë¯¸í„°
```json
{
  "gamma": 0.6,              // ìœ„í—˜ íšŒí”¼ë„ {0.3, 0.6, 1.0, 1.2}
  "volatilityWindow": 30000,  // EWMA ìœˆë„ìš° {5s, 30s, 5m}
  "maxInventoryPct": 5,      // ìµœëŒ€ ì¸ë²¤í† ë¦¬ {2%, 5%, 10% NAV}
  "ttlMs": 800,              // ì£¼ë¬¸ TTL {300-2000ms}
  "ladderLevels": 2,         // ë˜ë” ë ˆë²¨ {1, 2, 3}
  "driftCutBps": 5          // ë“œë¦¬í”„íŠ¸ ì»· {3, 5, 8bp}
}
```

### KPI ëª¨ë‹ˆí„°ë§ (ìŠ¤í™ ìš”êµ¬ì‚¬í•­)
- âœ… **ìœ íš¨ ìŠ¤í”„ë ˆë“œ(bp)**: ì‹¤ì œ ì œê³µ ìŠ¤í”„ë ˆë“œ ì¶”ì 
- âœ… **Fill Ratio**: ì£¼ë¬¸ ì²´ê²°ë¥  ëª¨ë‹ˆí„°ë§  
- âœ… **í‰ê·  ëŒ€ê¸°ì‹œê°„**: ì£¼ë¬¸-ì²´ê²° ì§€ì—°ì‹œê°„ ì¸¡ì •
- âœ… **Inventory Variance**: ì¸ë²¤í† ë¦¬ ë³€ë™ì„± ìµœì í™”
- âœ… **ì¬í˜¸ê°€/ì´ˆ**: ì´ˆë‹¹ ì¬í˜¸ê°€ ë¹ˆë„ ì œí•œ
- âœ… **ê±°ì ˆë¥ **: ì£¼ë¬¸ ê±°ì ˆë¥  ìµœì†Œí™”

### CLIì—ì„œ ì‚¬ìš©í•˜ê¸°
```bash
npm run dev:cli
# -> â• ìƒˆ ë´‡ ì¶”ê°€í•˜ê¸°  
# -> StoikovBot ì„ íƒ
# -> íŒŒë¼ë¯¸í„° ì¡°ì • (gamma, TTL, ë¦¬ìŠ¤í¬ í•œë„ ë“±)
# -> ì‹¤ì‹œê°„ KPI ëŒ€ì‹œë³´ë“œë¡œ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
```

ğŸ“– **ìì„¸í•œ ê°€ì´ë“œ**: [docs/STOIKOV_BOT.md](docs/STOIKOV_BOT.md)

## ğŸ›¡ í…ŒìŠ¤íŒ…

```bash
# ìœ ë‹› í…ŒìŠ¤íŠ¸
npm test

# íƒ€ì… ì²´í¬
npm run typecheck

# ë¦°íŒ…
npm run lint
```

## ğŸ“š ì°¸ê³ ìë£Œ

- [DDIA](https://dataintensive.net/) - ì‹œìŠ¤í…œ ì„¤ê³„ ì›ì¹™
- ê±°ë˜ì†Œ API ë¬¸ì„œ
- TypeScript ê³µì‹ ë¬¸ì„œ

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License